{"version":3,"sources":["webpack:///js/bundle.js","webpack:///webpack/bootstrap 1ad7d6d93d8bbb07cf86","webpack:///external \"GraphQLTag\"","webpack:///external \"ReactApollo\"","webpack:///./src/state/readOneMyVersionedObjectQuery.js","webpack:///./src/state/rollbackMyVersionedObjectMutation.js","webpack:///external \"Injector\"","webpack:///./src/boot/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","GraphQLTag","ReactApollo","config","query","undefined","_extends","assign","target","arguments","length","source","key","_templateObject","strings","raw","freeze","defineProperties","_graphqlTag2","obj","default","_graphqlTag","gql","options","recordId","limit","variables","offset","page","id","fetchPolicy","props","data","error","refetch","readOneMyVersionedObject","networkLoading","loading","ownProps","actions","versions","errors","graphQLErrors","map","graphQLError","message","goToPage","graphql","mutation","mutate","rollbackMyVersionedObject","toVersion","revertToVersion","refetchQueries","Injector","_interopRequireDefault","_Injector2","_Injector","_readOneMyVersionedObjectQuery2","_readOneMyVersionedObjectQuery","_rollbackMyVersionedObjectMutation2","_rollbackMyVersionedObjectMutation","window","document","addEventListener","transform","updater","component","readOneMyVersionedObjectQuery","rollbackMyVersionedObjectMutation"],"mappings":"CAAS,SAAUA,GCIjB,QAASC,GAAoBC,GAG5B,GAAGC,EAAiBD,GACnB,MAAOC,GAAiBD,GAAUE,OAGnC,IAAIC,GAASF,EAAiBD,IAC7BI,EAAGJ,EACHK,GAAG,EACHH,WAUD,OANAJ,GAAQE,GAAUM,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOE,GAAI,EAGJF,EAAOD,QAvBf,GAAID,KA4BJF,GAAoBQ,EAAIT,EAGxBC,EAAoBS,EAAIP,EAGxBF,EAAoBK,EAAI,SAASK,GAAS,MAAOA,IAGjDV,EAAoBW,EAAI,SAASR,EAASS,EAAMC,GAC3Cb,EAAoBc,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,GAC9BK,cAAc,EACdC,YAAY,EACZC,IAAKN,KAMRb,EAAoBoB,EAAI,SAAShB,GAChC,GAAIS,GAAST,GAAUA,EAAOiB,WAC7B,WAAwB,MAAOjB,GAAgB,SAC/C,WAA8B,MAAOA,GAEtC,OADAJ,GAAoBW,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRb,EAAoBc,EAAI,SAASQ,EAAQC,GAAY,MAAOR,QAAOS,UAAUC,eAAelB,KAAKe,EAAQC,IAGzGvB,EAAoB0B,EAAI,GAGjB1B,EAAoBA,EAAoB2B,EAAI,KDM/C,SAAUvB,EAAQD,GEtExBC,EAAOD,QAAUyB,YF4EX,SAAUxB,EAAQD,GG5ExBC,EAAOD,QAAU0B,aHkFX,SAAUzB,EAAQD,EAASH,GAEjC,YAGAe,QAAOC,eAAeb,EAAS,cAC7BO,OAAO,IAETP,EAAQ2B,OAAS3B,EAAQ4B,UAAQC,EAEjC,IAAIC,GAAWlB,OAAOmB,QAAU,SAAUC,GAAU,IAAK,GAAI9B,GAAI,EAAGA,EAAI+B,UAAUC,OAAQhC,IAAK,CAAE,GAAIiC,GAASF,UAAU/B,EAAI,KAAK,GAAIkC,KAAOD,GAAcvB,OAAOS,UAAUC,eAAelB,KAAK+B,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,MAAOJ,IAEnPK,EAUJ,SAAgCC,EAASC,GAAO,MAAO3B,QAAO4B,OAAO5B,OAAO6B,iBAAiBH,GAAWC,KAAOhC,MAAOK,OAAO4B,OAAOD,SAVtF,ivBAAkvB,ivBI9FhyB,OACA,OJmGIG,EAEJ,SAAgCC,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQC,QAASD,IAF7CE,GI9FpCjB,GAAQA,EAAAkB,WAAR,GAuCAnB,GACJoB,QADa,YACsB,GAAzBC,GAAyB,EAAzBA,SAAUC,EAAe,EAAfA,KAClB,QACEC,WACED,QACAE,SAJ6B,EAARC,MAIH,GAAK,GAAKH,EAC5BI,GAAIL,EAIJM,YAAa,kBAInBC,MAda,YA4BV,QAbDC,KACEC,EAYD,EAZCA,MACAC,EAWD,EAXCA,QACAC,EAUD,EAVCA,yBACSC,EASV,EATCC,QASD,IAPDC,SAOC,IANCC,cAMD,QALGC,aAKH,EAHCf,EAGD,EAHCA,MACAD,EAED,EAFCA,SAGIgB,EAAWL,GAA4B,KAEvCM,EAASR,GAASA,EAAMS,eAC5BT,EAAMS,cAAcC,IAAI,SAACC,GAAD,MAAkBA,GAAaC,SAEzD,QACER,QAASD,IAAmBI,EAC5BA,WACAE,cAAeD,EACfF,aACKA,GACHC,cACKA,GACHM,SAFF,SAEWlB,GACPM,GACEP,SAAUC,GAAQ,GAAK,GAAKH,EAC5BA,QACAI,GAAIL,WJwElBhD,GI/DS4B,QJgET5B,EIhEgB2B,SJiEhB3B,EAAQ4C,SI/DO,IAAA2B,SAAQ3C,EAAOD,IJmExB,SAAU1B,EAAQD,EAASH,GAEjC,YAGAe,QAAOC,eAAeb,EAAS,cAC7BO,OAAO,IAETP,EAAQ2B,OAAS3B,EAAQwE,aAAW3C,EAEpC,IAAIC,GAAWlB,OAAOmB,QAAU,SAAUC,GAAU,IAAK,GAAI9B,GAAI,EAAGA,EAAI+B,UAAUC,OAAQhC,IAAK,CAAE,GAAIiC,GAASF,UAAU/B,EAAI,KAAK,GAAIkC,KAAOD,GAAcvB,OAAOS,UAAUC,eAAelB,KAAK+B,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,MAAOJ,IAEnPK,EAUJ,SAAgCC,EAASC,GAAO,MAAO3B,QAAO4B,OAAO5B,OAAO6B,iBAAiBH,GAAWC,KAAOhC,MAAOK,OAAO4B,OAAOD,SAVtF,sKAAuK,sKKrLrN,OACA,OL0LIG,EAEJ,SAAgCC,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQC,QAASD,IAF7CE,GKxLpC2B,GAAWA,EAAA1B,WAAX,GAWAnB,GACJ4B,MAAO,YAAuC,GAApCkB,GAAoC,EAApCA,OAAoBV,EAAgB,EAA5BD,SAAYC,QACtBW,EAA4B,SAACrB,EAAIsB,GAAL,MAAmBF,IACnDvB,WACEG,KACAsB,eAIJ,QACEZ,aACKA,GACHW,4BAEAE,gBAAiBF,MAIvB3B,SAEE8B,gBAAiB,uCL4LrB7E,GKxLSwE,WLyLTxE,EKzLmB2B,SL0LnB3B,EAAQ4C,SKxLO,IAAA2B,SAAQC,EAAU7C,IL4L3B,SAAU1B,EAAQD,GMpOxBC,EAAOD,QAAU8E,UN0OX,SAAU7E,EAAQD,EAASH,GAEjC,YAeA,SAASkF,GAAuBpC,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQC,QAASD,GOzPvF,WP+OIqC,EAAaD,EAAuBE,GO7OxC,OPiPIC,EAAkCH,EAAuBI,GOhP7D,OPoPIC,EAAsCL,EAAuBM,EOlPjEC,QAAOC,SAASC,iBAAiB,mBAAoB,WAEnDV,UAASW,UACP,4BACA,SAACC,GAECA,EAAQC,UACN,kCACAC,UACA,oCAKNd,UAASW,UACP,mCACA,SAACC,GAECA,EAAQC,UACN,mGAIAE,UACA","file":"js/bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 5);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = GraphQLTag;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = ReactApollo;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.config = exports.query = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _templateObject = _taggedTemplateLiteral(['\\nquery ReadHistoryViewerMyVersionedObject ($id: ID!, $limit: Int!, $offset: Int!) {\\n    readOneMyVersionedObject(\\n      versioning: {\\n        mode: ALL_VERSIONS\\n      },\\n      filter: {\\n        id: { eq: $id }\\n      }\\n    ) {\\n      id\\n      versions (limit: $limit, offset: $offset, sort: {\\n        version: DESC\\n      }) {\\n        pageInfo {\\n          totalCount\\n        }\\n        nodes {\\n          version\\n          author {\\n            firstName\\n            surname\\n          }\\n          publisher {\\n            firstName\\n            surname\\n          }\\n          deleted\\n          draft\\n          published\\n          liveVersion\\n          latestDraftVersion\\n          lastEdited\\n        }\\n      }\\n    }\\n  }\\n'], ['\\nquery ReadHistoryViewerMyVersionedObject ($id: ID!, $limit: Int!, $offset: Int!) {\\n    readOneMyVersionedObject(\\n      versioning: {\\n        mode: ALL_VERSIONS\\n      },\\n      filter: {\\n        id: { eq: $id }\\n      }\\n    ) {\\n      id\\n      versions (limit: $limit, offset: $offset, sort: {\\n        version: DESC\\n      }) {\\n        pageInfo {\\n          totalCount\\n        }\\n        nodes {\\n          version\\n          author {\\n            firstName\\n            surname\\n          }\\n          publisher {\\n            firstName\\n            surname\\n          }\\n          deleted\\n          draft\\n          published\\n          liveVersion\\n          latestDraftVersion\\n          lastEdited\\n        }\\n      }\\n    }\\n  }\\n']);\n\nvar _reactApollo = __webpack_require__(1);\n\nvar _graphqlTag = __webpack_require__(0);\n\nvar _graphqlTag2 = _interopRequireDefault(_graphqlTag);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar query = (0, _graphqlTag2.default)(_templateObject);\n\nvar config = {\n  options: function options(_ref) {\n    var recordId = _ref.recordId,\n        limit = _ref.limit,\n        page = _ref.page;\n\n    return {\n      variables: {\n        limit: limit,\n        offset: ((page || 1) - 1) * limit,\n        id: recordId,\n\n        fetchPolicy: 'network-only'\n      }\n    };\n  },\n  props: function props(_ref2) {\n    var _ref2$data = _ref2.data,\n        error = _ref2$data.error,\n        refetch = _ref2$data.refetch,\n        readOneMyVersionedObject = _ref2$data.readOneMyVersionedObject,\n        networkLoading = _ref2$data.loading,\n        _ref2$ownProps = _ref2.ownProps,\n        _ref2$ownProps$action = _ref2$ownProps.actions,\n        actions = _ref2$ownProps$action === undefined ? {\n      versions: {}\n    } : _ref2$ownProps$action,\n        limit = _ref2$ownProps.limit,\n        recordId = _ref2$ownProps.recordId;\n\n    var versions = readOneMyVersionedObject || null;\n\n    var errors = error && error.graphQLErrors && error.graphQLErrors.map(function (graphQLError) {\n      return graphQLError.message;\n    });\n\n    return {\n      loading: networkLoading || !versions,\n      versions: versions,\n      graphQLErrors: errors,\n      actions: _extends({}, actions, {\n        versions: _extends({}, versions, {\n          goToPage: function goToPage(page) {\n            refetch({\n              offset: ((page || 1) - 1) * limit,\n              limit: limit,\n              id: recordId\n            });\n          }\n        })\n      })\n    };\n  }\n};\n\nexports.query = query;\nexports.config = config;\nexports.default = (0, _reactApollo.graphql)(query, config);\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.config = exports.mutation = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _templateObject = _taggedTemplateLiteral(['\\nmutation rollbackMyVersionedObject($id:ID!, $toVersion:Int!) {\\n    rollbackMyVersionedObject(\\n    id: $id\\n    toVersion: $toVersion\\n  ) {\\n    id\\n  }\\n}\\n'], ['\\nmutation rollbackMyVersionedObject($id:ID!, $toVersion:Int!) {\\n    rollbackMyVersionedObject(\\n    id: $id\\n    toVersion: $toVersion\\n  ) {\\n    id\\n  }\\n}\\n']);\n\nvar _reactApollo = __webpack_require__(1);\n\nvar _graphqlTag = __webpack_require__(0);\n\nvar _graphqlTag2 = _interopRequireDefault(_graphqlTag);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar mutation = (0, _graphqlTag2.default)(_templateObject);\n\nvar config = {\n  props: function props(_ref) {\n    var mutate = _ref.mutate,\n        actions = _ref.ownProps.actions;\n\n    var rollbackMyVersionedObject = function rollbackMyVersionedObject(id, toVersion) {\n      return mutate({\n        variables: {\n          id: id,\n          toVersion: toVersion\n        }\n      });\n    };\n\n    return {\n      actions: _extends({}, actions, {\n        rollbackMyVersionedObject: rollbackMyVersionedObject,\n\n        revertToVersion: rollbackMyVersionedObject\n      })\n    };\n  },\n  options: {\n    refetchQueries: ['ReadHistoryViewerMyVersionedObject']\n  }\n};\n\nexports.mutation = mutation;\nexports.config = config;\nexports.default = (0, _reactApollo.graphql)(mutation, config);\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = Injector;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _Injector = __webpack_require__(4);\n\nvar _Injector2 = _interopRequireDefault(_Injector);\n\nvar _readOneMyVersionedObjectQuery = __webpack_require__(2);\n\nvar _readOneMyVersionedObjectQuery2 = _interopRequireDefault(_readOneMyVersionedObjectQuery);\n\nvar _rollbackMyVersionedObjectMutation = __webpack_require__(3);\n\nvar _rollbackMyVersionedObjectMutation2 = _interopRequireDefault(_rollbackMyVersionedObjectMutation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.document.addEventListener('DOMContentLoaded', function () {\n  _Injector2.default.transform('myversionedobject-history', function (updater) {\n    updater.component('HistoryViewer.Form_ItemEditForm', _readOneMyVersionedObjectQuery2.default, 'MyVersionedObjectHistoryViewer');\n  });\n\n  _Injector2.default.transform('myversionedobject-history-revert', function (updater) {\n    updater.component('HistoryViewerToolbar.VersionedAdmin.HistoryViewer.App_VersionedObject.HistoryViewerVersionDetail', _rollbackMyVersionedObjectMutation2.default, 'MyVersionedObjectRevertMutation');\n  });\n});\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// js/bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1ad7d6d93d8bbb07cf86","module.exports = GraphQLTag;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"GraphQLTag\"\n// module id = 0\n// module chunks = 0","module.exports = ReactApollo;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactApollo\"\n// module id = 1\n// module chunks = 0","import { graphql } from 'react-apollo';\nimport gql from 'graphql-tag';\n\n// GraphQL query for retrieving the version history of a specific object. The results of\n// the query must be set to the \"versions\" prop on the component that this HOC is\n// applied to for binding implementation.\nconst query = gql`\nquery ReadHistoryViewerMyVersionedObject ($id: ID!, $limit: Int!, $offset: Int!) {\n    readOneMyVersionedObject(\n      versioning: {\n        mode: ALL_VERSIONS\n      },\n      filter: {\n        id: { eq: $id }\n      }\n    ) {\n      id\n      versions (limit: $limit, offset: $offset, sort: {\n        version: DESC\n      }) {\n        pageInfo {\n          totalCount\n        }\n        nodes {\n          version\n          author {\n            firstName\n            surname\n          }\n          publisher {\n            firstName\n            surname\n          }\n          deleted\n          draft\n          published\n          liveVersion\n          latestDraftVersion\n          lastEdited\n        }\n      }\n    }\n  }\n`;\n\nconst config = {\n  options({ recordId, limit, page }) {\n    return {\n      variables: {\n        limit,\n        offset: ((page || 1) - 1) * limit,\n        id: recordId,\n        // Never read from the cache. Saved pages should stale the query, and these mutations\n        // happen outside the scope of apollo. This view is loaded asynchronously anyway,\n        // so caching doesn't make any sense until we're full React/GraphQL.\n        fetchPolicy: 'network-only',\n      }\n    };\n  },\n  props({\n    data: {\n      error,\n      refetch,\n      readOneMyVersionedObject,\n      loading: networkLoading,\n    },\n    ownProps: {\n      actions = {\n        versions: {}\n      },\n      limit,\n      recordId,\n    },\n  }) {\n    const versions = readOneMyVersionedObject || null;\n\n    const errors = error && error.graphQLErrors &&\n      error.graphQLErrors.map((graphQLError) => graphQLError.message);\n\n    return {\n      loading: networkLoading || !versions,\n      versions,\n      graphQLErrors: errors,\n      actions: {\n        ...actions,\n        versions: {\n          ...versions,\n          goToPage(page) {\n            refetch({\n              offset: ((page || 1) - 1) * limit,\n              limit,\n              id: recordId,\n            });\n          }\n        },\n      },\n    };\n  },\n};\n\nexport { query, config };\n\nexport default graphql(query, config);\n\n\n\n// WEBPACK FOOTER //\n// ./src/state/readOneMyVersionedObjectQuery.js","import { graphql } from 'react-apollo';\nimport gql from 'graphql-tag';\n\nconst mutation = gql`\nmutation rollbackMyVersionedObject($id:ID!, $toVersion:Int!) {\n    rollbackMyVersionedObject(\n    id: $id\n    toVersion: $toVersion\n  ) {\n    id\n  }\n}\n`;\n\nconst config = {\n  props: ({ mutate, ownProps: { actions } }) => {\n    const rollbackMyVersionedObject = (id, toVersion) => mutate({\n      variables: {\n        id,\n        toVersion,\n      },\n    });\n\n    return {\n      actions: {\n        ...actions,\n        rollbackMyVersionedObject,\n        // For BC (not strictly necessary, perhaps):\n        revertToVersion: rollbackMyVersionedObject,\n      },\n    };\n  },\n  options: {\n    // Refetch versions after mutation is completed\n    refetchQueries: ['ReadHistoryViewerMyVersionedObject']\n  }\n};\n\nexport { mutation, config };\n\nexport default graphql(mutation, config);\n\n\n\n// WEBPACK FOOTER //\n// ./src/state/rollbackMyVersionedObjectMutation.js","module.exports = Injector;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Injector\"\n// module id = 4\n// module chunks = 0","/* global window */\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport Injector from 'lib/Injector';\n\nimport readOneMyVersionedObjectQuery from 'state/readOneMyVersionedObjectQuery';\nimport rollbackMyVersionedObjectMutation from 'state/rollbackMyVersionedObjectMutation';\n\nwindow.document.addEventListener('DOMContentLoaded', () => {\n  // Register GraphQL operations with Injector as transformations\n  Injector.transform(\n    'myversionedobject-history',\n    (updater) => {\n      // Add CMS page history GraphQL query to the HistoryViewer\n      updater.component(\n        'HistoryViewer.Form_ItemEditForm',\n        readOneMyVersionedObjectQuery,\n        'MyVersionedObjectHistoryViewer' // SHOULD THIS SAY ELEMENT???\n      );\n    }\n  );\n\n  Injector.transform(\n    'myversionedobject-history-revert',\n    (updater) => {\n      // Add CMS page revert GraphQL mutation to the HistoryViewerToolbar\n      updater.component(\n        'HistoryViewerToolbar.VersionedAdmin.HistoryViewer.App_VersionedObject.HistoryViewerVersionDetail',\n        // This was using `copyToStage` incorrectly which also provides from and to stage\n        // arguments. The \"rollback\" mutation correctly handles relations and is a more consumable\n        // API endpoint.\n        rollbackMyVersionedObjectMutation,\n        'MyVersionedObjectRevertMutation'\n      );\n    }\n  );\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/boot/index.js"],"sourceRoot":""}